<div class="container text-center" style="width: 30em">

  <ng-container *ngIf="loading; else taskIsPresent">
    <p class="mb-3">Recuperando i task...</p>
  </ng-container>

  <ng-template #taskIsPresent>

    <ng-container *ngIf="todoList.length === 0 || checkCompleted(); else elseBlock">
      <p class="mb-3">OPS...NON CI SONO TASK</p>
    </ng-container>

    <ng-template #elseBlock>

      <div *ngFor="let item of todoList" class="mb-3">

        <div *ngIf="!item.completed" class="d-flex justify-content-between p-2 rounded-pill" style="background-color:burlywood;">

          <div class="ms-2">
            <p>{{item.title}}</p>
          </div>

          <div>
            <button type="button" class="btn bg-success text-white me-2 rounded-pill" (click)="changes(item.id, 'done')">Done</button>
            <button type="button" class="btn bg-danger text-white me-2 rounded-pill" (click)="changes(item.id, 'dadegi')">Delete</button>
          </div>

        </div>

      </div>

    </ng-template>

  </ng-template>



  <div class="input-group mb-3">

    <input type="text" class="form-control" [(ngModel)]="newTask">
    <button type="button" class="btn" style="background-color: bisque;" (click)="addTask(newTask)">AddTask</button>

  </div>

  <div>
    <button type="button" class="btn bg-danger text-white" (click)="clearList()" [disabled]="todoList.length === 0 ? true : false">RESET LIST</button>
  </div>

</div>
